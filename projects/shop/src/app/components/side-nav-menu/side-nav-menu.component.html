<!--<mat-accordion>-->
<!--  @for (item of data; let i = $index; track item.name) {-->
<!--    <mat-expansion-panel [expanded]="step === i"-->
<!--                         (opened)="setStep(i)" hideToggle>-->
<!--      <mat-expansion-panel-header [class.no-pointer]="step === i">-->
<!--        <a class="!capitalize cursor-pointer"-->
<!--           routerLinkActive="active-route" [routerLink]="['./kratom']">-->
<!--          {{ item.name }}-->
<!--        </a>-->
<!--      </mat-expansion-panel-header>-->
<!--      <mat-list>-->

<!--        @for (item2 of item.children; let j = $index; track item2.name) {-->
<!--          <a class="!capitalize cursor-pointer"-->
<!--             routerLinkActive="active-route" [routerLink]="['./kratom']">-->
<!--            {{ item.name }}-->
<!--          </a>-->
<!--        }-->

<!--      </mat-list>-->
<!--    </mat-expansion-panel>-->
<!--  }-->
<!--</mat-accordion>-->

<div class="mt-3 foo">
  <mat-accordion>
    @for (item of data; let i = $index; track item.name) {
      <mat-expansion-panel [expanded]="step === i"
                           (opened)="setStep(i)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>{{ item.name }}</mat-panel-title>
        </mat-expansion-panel-header>

        @if (item.children) {
          <!--        <ng-container *ngIf="item.children">-->

          <mat-accordion>
            @for (item2 of item.children; let j = $index; track item2.name) {
              <mat-expansion-panel hideToggle>
                <!--                                 (opened)="panelOpenState = true"-->
                <!--                                 (closed)="panelOpenState = false"-->
                <mat-expansion-panel-header>
                  <mat-panel-title>{{ item2.name }}</mat-panel-title>
                </mat-expansion-panel-header>
                @if (item2.links) {

                  <ul class="sidebar-sub-menu">
                    @for (link of item2.links; let j = $index; track link) {
                      <li>
                        <a mat-button class="!capitalize cursor-pointer text-sm link"
                           routerLinkActive="active-route" [routerLink]="['./kratom', link]">
                          {{ link }}
                        </a></li>
                    }
                  </ul>
                }
              </mat-expansion-panel>
            }
          </mat-accordion>

          <!--        </ng-container>-->
        }
        @if (item.links) {
          <mat-list>
            @for (link of item.links; let j = $index; track link) {
              <a class="!capitalize cursor-pointer"
                 routerLinkActive="active-route" [routerLink]="['./kratom']">
                {{ link }}
              </a><br>
            }

          </mat-list>
        }
      </mat-expansion-panel>
    }
  </mat-accordion>
</div>
<!--      <mat-list>-->
<!--        @if (item.children) {-->
<!--          @for (item2 of item.children; let j = $index; track item2.name) {-->
<!--            <mat-list-item role="listitem">{{ item2.name }}</mat-list-item>-->
<!--          }-->
<!--        }-->
<!--      </mat-list>-->
